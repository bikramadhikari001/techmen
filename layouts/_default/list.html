{{ define "main" }}
<!-- Page Header -->
<section class="page-hero" style="padding-top: 120px;">
  <div class="container">
    <h1>{{ .Title }}</h1>
    {{ with .Content }}<p>{{ . | plainify | truncate 200 }}</p>{{ end }}
  </div>
</section>

<!-- Content Grid -->
<section class="section section-alt">
  <div class="container">
    {{ if eq .Section "blog" }}
    <!-- Blog Layout -->
    <div class="grid grid-3" data-reveal-stagger>
      {{ range .Pages }}
      <article class="card blog-card">
        <div class="blog-card-image">
          <span class="blog-icon">üìù</span>
        </div>
        <div class="blog-card-content">
          <div class="blog-card-meta">{{ .Date.Format "Jan 2, 2006" }}</div>
          <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
          <p>{{ .Summary | truncate 120 }}</p>
        </div>
      </article>
      {{ end }}
    </div>

    {{ else if eq .Section "case-studies" }}
    <!-- Case Studies Layout -->
    <div class="grid grid-2" data-reveal-stagger>
      {{ range .Pages }}
      <a href="{{ .Permalink }}" class="card case-card">
        <div class="case-card-image" {{ with .Params.image }}style="background-image: url('{{ . }}');"{{ end }}>
          {{ with .Params.client }}<span class="case-card-client">{{ . }}</span>{{ end }}
        </div>
        <div class="case-card-content">
          <h3>{{ .Title }}</h3>
          <p>{{ with .Params.description }}{{ . }}{{ else }}{{ .Summary | truncate 150 }}{{ end }}</p>
          {{ with .Params.results }}
          <div class="case-card-results">
            {{ range first 3 . }}
            <span class="case-result">‚úì {{ . }}</span>
            {{ end }}
          </div>
          {{ end }}
        </div>
      </a>
      {{ end }}
    </div>

    {{ else if eq .Section "services" }}
    <!-- Services Layout -->
    <div class="grid grid-2 grid-services" data-reveal-stagger>
      {{ range .Pages }}
      <a href="{{ .Permalink }}" class="card service-card-large">
        <div class="service-card-inner">
          <div class="service-icon-large">{{ partial "icon.html" (.Params.icon | default "brain") }}</div>
          <div class="service-card-text">
            <h3>{{ .Title }}</h3>
            <p>{{ with .Params.description }}{{ . }}{{ else }}{{ .Summary | truncate 150 }}{{ end }}</p>
            {{ with .Params.features }}
            <ul class="service-features">
              {{ range first 4 . }}
              <li>{{ . }}</li>
              {{ end }}
            </ul>
            {{ end }}
          </div>
        </div>
      </a>
      {{ end }}
    </div>

    {{ else }}
    <!-- Default Layout -->
    <div class="grid grid-3" data-reveal-stagger>
      {{ range .Pages }}
      <article class="card">
        <h3><a href="{{ .Permalink }}" style="color: var(--text-primary);">{{ .Title }}</a></h3>
        <p>{{ .Summary | truncate 150 }}</p>
        {{ if .Date }}<small style="color: var(--text-muted);">{{ .Date.Format "Jan 2, 2006" }}</small>{{ end }}
      </article>
      {{ end }}
    </div>
    {{ end }}
  </div>
</section>

<!-- CTA -->
<section class="section cta">
  <div class="container" data-reveal>
    <h2>Ready to Get Started?</h2>
    <p>Let's discuss how we can help your business.</p>
    <a href="/contact/" class="btn btn-primary btn-lg">Contact Us</a>
  </div>
</section>
{{ end }}

